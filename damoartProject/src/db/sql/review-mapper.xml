<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<!-- 페이징바 -->
<entry key="selectListCount">
	  SELECT
		     COUNT(*) count
	    FROM REVIEW
	   WHERE DELETE_STATUS = 'N'
</entry>

<entry key="selectList">
  SELECT *
	FROM (
		  SELECT ROWNUM RNUM, RR.*
			    FROM (
			SELECT
			       TITLE
			     , MAIN_IMG
			     , RV_NO
			     , NICKNAME
			     , ORDER_NO
			     , REVIEW_TITLE
			     , REVIEW_CONTENT
			     , TO_CHAR(REVIEW_DATE, 'YYYY-MM-DD') REVIEW_DATE
			     , REVIEW_STAR
			     , REVIEW_VIEW
			  FROM REVIEW   
			  JOIN ORDER_P USING (ORDER_NO)
			  JOIN PRODUCT USING (PNO)
			  JOIN MEMBER USING (MEM_NO)
			) RR
		)
WHERE RNUM BETWEEN ? AND ?
</entry>

<entry key="selectReview">
SELECT 
       TITLE
     , MAIN_IMG
     , RV_NO
     , NICKNAME
     , ORDER_NO
     , REVIEW_TITLE
     , REVIEW_CONTENT
     , TO_CHAR(REVIEW_DATE, 'YYYY-MM-DD') REVIEW_DATE
     , REVIEW_STAR
     , REVIEW_VIEW
  FROM REVIEW   
  JOIN ORDER_P USING (ORDER_NO)
  JOIN PRODUCT USING (PNO)
  JOIN MEMBER USING (MEM_NO)
 WHERE RV_NO = ?
</entry>
	
	
<entry key="insertReview">
INSERT 
  INTO REVIEW
  (
    RV_NO
  , ORDER_NO
  , REVIEW_TITLE
  , REVIEW_CONTENT
  , REVIEW_STAR
  , MEM_NO
  , REVIEW_ID
  )
VALUES
  (
     SEQ_RVNO
   , ?
   , ?
   , ?
   , ?
   , ?
   , ?
  )
</entry>


<entry key="increaseCount">
	UPDATE
	       REVIEW
	   SET REVIEW_VIEW = REVIEW_VIEW+1
	 WHERE RV_NO = ?
	   AND DELETE_STATUS = 'N'
</entry>
	
</properties>